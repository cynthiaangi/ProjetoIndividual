<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/reset.css">
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="icon" href="./img/logo.png">
    <title>Voz do Amor</title>
</head>
<body>
    <header class="cabecalho">
        <div class="cabecalho-titulo">
            <img class="cabecalho-titulo-img" src="./img/logo.png" alt="Logo site">
            <h1>
                Voz do amor
            </h1>
        </div>
        <nav class="cabecalho-navegacao">
            <a href="./index.html"> Home</a>
            <a href="">Sobre Mim</a>
            <a href="./login.html">Grupo de Apoio</a>
        </nav>
    </header>
    <main class="login">
        <section id="card-login">
            e-mail: <input type="text">
            senha: <input type="text">

            <button onclick="entrar()">Entrar</button>
            <button onclick="alterarMain()">Novo Usuário</button>
        </section>
        <section id="card-cadastro">
            Nome: <input id="ipt_nome" type="text">
            Data de Nascimento: <input id="ipt_nasc" type="text">
            Gênero: <input id="ipt_gen" type="text">
            E-mail: <input id="ipt_email" type="text">
            Senha: <input id="ipt_senha" type="password">
            Confirmação de senha: <input id="ipt_conf" type="password">

            <button onclick="cadastrar()">Cadastrar</button>
            <button onclick="voltar()">Voltar</button>
        </section>
    </main>
    <footer class="rodape">
        <h4>
            Desenvolvido por Cynthia Angi
        </h4>
    </footer>
</body>
</html>

<script>
    function alterarMain(){
        var login = document.getElementById('card-login');
        var cadastro = document.getElementById('card-cadastro');

        login.style.display = 'none';
        cadastro.style.display = 'flex';
    }

    function voltar(){
        var login = document.getElementById('card-login');
        var cadastro = document.getElementById('card-cadastro');

        login.style.display = 'flex';
        cadastro.style.display = 'none';
    }

    function cadastrar(){
        var nome = ipt_nome.value;
        var dtNasc = ipt_nasc.value;
        var gen = ipt_gen.value;
        var email = ipt_email.value;
        var senha = ipt_senha.value;
        var conf = ipt_conf.value;
        var arroba = '';
        var pontoCom = email.indexOf('.com');
        var arroba = email.indexOf('@');
        var senhaOk = 0;
        var senhaMaiusc = senha.toUpperCase();
        var senhaMinusc = senha.toLowerCase();

        if (nome == '' || dtNasc == '' || gen == '#' || email == '' || senha == '' || conf == ''){
            alert('Todos os campos devem ser preenchidos');
        } else if (nome.length < 3){
            alert('O nome precisa conter pelo menos 3 letras');
        } else if(dtNasc.length != 10){
            alert('A data fornecida não está no formato aceito');
        } else if(gen != 'feminino'){
            alert('Infelizmente você não pode se cadastrar em nosso grupo de apoio!');
        } else if(senha.length < 8){
            alert('Senha precisa ter pelo menos 8 caracteres');
        } else if(conf != senha){
            alert('A confirmação da senha está diferente da senha informada');
        } else if(pontoCom < arroba || arroba == -1 || pontoCom == -1){
            alert('Formato de email inválido');
        }else if(senha == senhaMaiusc || senha == senhaMinusc){
            alert('Sua senha deve conter pelo menos 1 letra maiúscula e 1 letra minúscula')                    
        }else {
            for(var i = 0; i < senha.length; i++){
                if(Number(senha[i]) != NaN){
                    senhaOk++;
                }
            }
        }
    }
    
</script>